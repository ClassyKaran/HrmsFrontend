<div class="container py-4">
  <!-- Add Button -->
   <div class="d-flex justify-content-end">
     <button class="btn btn-outline-primary mb-3 ms-auto " data-bs-toggle="modal" data-bs-target="#reviewModal" (click)="resetForm()">
       + Add Review
     </button>
   </div>

  <!-- Modal -->
  <div class="modal fade" id="reviewModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalLabel">{{ isEdit ? 'Edit' : 'Add' }} Performance Review</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="resetForm()"></button>
        </div>
        <form (ngSubmit)="submitReview()">
          <div class="modal-body">
            <div class="mb-3">
              <label for="taskName" class="form-label">Task Name</label>
              <input type="text" class="form-control" id="taskName" [(ngModel)]="review.taskName" name="taskName" required>
            </div>
            <div class="mb-3">
              <label for="managerReview" class="form-label">Manager Review</label>
              <textarea class="form-control" id="managerReview" [(ngModel)]="review.managerReview" name="managerReview" required></textarea>
            </div>
            <div class="mb-3">
              <label for="reviewDate" class="form-label">Review Date</label>
              <input type="date" class="form-control" id="reviewDate" [(ngModel)]="review.reviewDate" name="reviewDate" required>
            </div>
            <div class="mb-3">
              <label for="employeeId" class="form-label">Employee ID</label>
              <input type="number" class="form-control" id="employeeId" [(ngModel)]="review.employee.id" name="employeeId" required>

            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-outline-success">{{ isEdit ? 'Update' : 'Submit' }}</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="resetForm()">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Table -->
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Task Name</th>
          <th>Manager Review</th>
          <th>Review Date</th>
          <th>Employee ID</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let r of reviews">
          <td>{{ r.reviewId }}</td>
          <td>{{ r.taskName }}</td>
          <td>{{ r.managerReview }}</td>
          <td>{{ r.reviewDate }}</td>
          <td>{{ r.employeeId }}</td>
          <td>
            <button class="btn btn-outline-success btn-sm me-2" (click)="editReview(r)">Edit</button>
            <button class="btn btn-outline-danger btn-sm" (click)="deleteReview(r.reviewId!)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

